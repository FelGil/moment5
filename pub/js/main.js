"use strict";let coursesEl=document.getElementById("courses"),addCourseBtn=document.getElementById("addCourse"),updateCourseBtn=document.getElementById("updateCourse"),codeEl=document.getElementById("coursecode"),nameEl=document.getElementById("coursename"),progressionEl=document.getElementById("courseprogression"),syllabusEl=document.getElementById("coursesyllabus"),formheaderEl=document.getElementById("formheader"),idHolder="";function getCourses(){coursesEl.innerHTML="",coursesEl.innerHTML+='<div class="courseWrapper">\n        <div class="col1">\n            <b>Kod:</b>\n        </div>\n        <div class="col2">\n            <b>Kurs namn:</b> \n        </div>\n        <div class="col3">\n            <b>Progression:</b>\n        </div>\n        <div class="col4">\n            <b>Kursplan:</b>\n        </div>\n    </div>\n    ',fetch("http://localhost/moment5ws/api").then((e=>e.json())).then((e=>{e.forEach((e=>{coursesEl.innerHTML+=`<div class="courseWrapper">\n                <div class="col1">\n                    ${e.code}\n                </div>\n                <div class="col2">\n                    ${e.name}\n                </div>\n                <div class="col3">\n                    ${e.progression}\n                </div>\n                <div class="col4">\n                    <a href="${e.syllabus}">Länk</a>\n                </div>\n                <div class="col5">\n                    <button id="${e.id}" class="btn_del" onClick="deleteCourse(${e.id})">Radera</button><br>\n                    <button id="${e.id}" class="btn_update" onClick="setFormCourse(${e.id})">Ändra</button>\n                </div>\n            </div>`}))}))}function deleteCourse(e){fetch("http://localhost/moment5ws/api?id="+e,{method:"DELETE"}).then((e=>e.text())).then((e=>{getCourses()})).catch((e=>{console.log("Error: ",e)}))}function createCourse(){let e={code:codeEl.value,name:nameEl.value,progression:progressionEl.value,syllabus:syllabusEl.value};fetch("http://localhost/moment5ws/api",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}).then((e=>e.text())).then((e=>{getCourses()})).catch((e=>{console.log("Error: ",e)}))}function setFormCourse(e){addCourseBtn.style.display="none",updateCourseBtn.style.display="block",formheaderEl.innerHTML="Ändra kurs",idHolder=e,fetch("http://localhost/moment5ws/api?id="+e).then((e=>e.json())).then((e=>{e.forEach((e=>{codeEl.value=e.code,nameEl.value=e.name,progressionEl.value=e.progression,syllabusEl.value=e.syllabus}))}))}function updateCourse(){let e=codeEl.value,o=nameEl.value,s=progressionEl.value,n=syllabusEl.value,t={id:idHolder,code:e,name:o,progression:s,syllabus:n};console.log(t),fetch("http://localhost/moment5ws/api?id="+idHolder,{method:"PUT",body:JSON.stringify(t)}).then((e=>e.text())).then((e=>{getCourses()})).catch((e=>{console.log("Error: ",e)}))}window.addEventListener("load",getCourses),addCourseBtn.addEventListener("click",createCourse),updateCourseBtn.addEventListener("click",updateCourse);
//# sourceMappingURL=../maps/main.js.map
